# memo

<!-- TOC -->

- [Memo](#memo)
  - [Overview](#overview)

<!-- /TOC -->

## Overview
- memo
  2020/10/27
  [機能・項目追加]
  ・ホームのお問い合わせフォームに「お問い合わせ内容」を追加する。
  問い合わせ項目案「選択してください」「ご意見・ご要望」「質問」「不具合」「ユーザーの通報」「その他」。

  2020/10/27
  [レイアウト周り]
  ・ログイン後とログイン前のホームメニューのメインコンテンツ部分を変更。
  ログイン後は会員登録・ログインフォームを削除する為レイアウトが変わる。
  なのでそれ関係の調整をする。

  2020/10/27
  [処理関係]
  ・会員登録・ログインフォームの切り替えを非同期で行う。
  ヘッダータグの要素をタップして処理を発火させる。

  2020/11/09
  [処理関係]
  ・DMの時刻部分を非同期処理でする。十秒間隔ぐらいで更新判定を走らせて時刻の変更をする。
  ・メッセージを送るスペースを押している間は非同期処理で書き込み中の判定を行うフラグを立てる様にする。
  フラグが立っている間は相手側画面に書き込み中のアニメーションを走らせる。
  =========
  ・社員側登録をする際の処理は現在ログインしているユーザー情報をセッションから引っ張ってきてデータベース情報と照合する。
  ・社員側登録画面に遷移する前と登録ボタンを押した際に照合処理を走らせる(非同期)。
  =========
  ・登録処理が無事走った際はusersテーブルのrollカラムの数字を50(社員登録番号)に切り替えたのち社員側画面に切り替える。
  ・ユーザー詳細画面を表示する際に相手側ユーザーのroll情報を判定。社員側詳細ページか一般ユーザー詳細ページを表示する。
  =========
  ・ユーザーを通報時、usersテーブル内のreport_flgカラムを立たせる。
  ・通報後は管理者アカウントへ一斉に定型文のDMを送る様にする。定形文の中には「問い合わせを請負う」ボタンを実装(非同期)し、
  請け負ったアカウントのuserID番号等を特定のカラムへ挿入。その後は挿入IDとユーザーIDを照合し、合致したアカウントのみその通知DMを表示する。
  ・通報等の特定のDMに関してはスタイルを変更する。

  2020/11/11
  [処理関係]
  ・プロフィール画面閲覧時に表示される「ステータス」に退会済みを追加する。(通常退会後はそのユーザー関係の物を表示させない様にするものだが
  退会後にも投稿レビューは残しておきたいので、そのレビュー先から退会済みユーザーのプロフィールに飛べてしまう。なのでDMと通報ボタンは押せない様にしておく必要がある。)
  ・プロフィール表示画面の「DMを開始する」・「このユーザーを通報する」ボタンを押せない様にする判定を追加する(非同期)。
  ・非同期処理でusersテーブルへアクセスし、deleteフラグが立っているかを確認。立っていない場合はボタンを押せなくする擬似クラスをcssに追加する。
  ・退会後にレビューを残すかどうかの判断をユーザーに判断させる機能。レビューと判断用フラグ等を備えた中間テーブルを用意して外部接続。判断用フラグが立っている場合は一括してレビューを非表示にする。

  2020/11/11
  [処理関係]
  ・キーワード内検索機能。テーブルとカラムの指定をしたのち、入力ワードをsqlに挿入。
  ・テーブル内で指定したキーワードと一致した場合はその内容が持つ投稿レビューのジャンル等に合わせてweb上に出力させる。

  明日やること
  モックアップに合わせてコーディング。テーブル関係の見直し。他仕様書の記入項目のすり合わせ確認。

  2020/12/10
  [エラーメッセージの出力関係]
  エラメ関係メモ
  今の処使う予定の配列
  common(入力関係以外でのエラーメッセージを出力させる。)
  [その他メモ]